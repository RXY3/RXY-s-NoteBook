# C language study
## The usage of .h (self writing)
### 什么是.h文件
.h文件是头文件，是一种包含函数声明和宏定义的文件，用于在多个源文件之间共享信息。
### .h文件的作用
.h文件的作用是将函数的声明和定义分离，将函数的声明放在.h文件中，将函数的定义放在.c文件中，这样可以使得程序的结构更加清晰，便于维护。
适合与多c文件的程序，便于变量的声明以及函数的调用。
### .h文件的使用
.h文件的使用分为两种情况：
#### 1.在同一个文件夹下
在同一个文件夹下，只需要在需要调用的文件中使用#include "filename.h"即可。
#### 2.在不同文件夹下
在不同文件夹下，需要在需要调用的文件中使用#include "../filename.h"即可。
### .h文件的编写
.h文件的编写分为两种情况：
#### 1.只有函数的声明
```cpp
#ifndef _TEST_H_
#define _TEST_H_
int add(int a,int b);
#endif
```
#### 2.函数的声明和定义
```cpp
#ifndef _TEST_H_
#define _TEST_H_
int add(int a,int b)
{
    return a+b;
}
#endif
```
### .h文件的注意事项
#### 1.头文件的名字
头文件的名字应该与.c文件的名字相同，例如test.c的头文件应该命名为test.h。（不是必须）
#### 2.头文件的保护
头文件的保护是为了防止头文件被重复包含，防止重复定义，防止重复声明。
#### 3.头文件的包含
头文件的包含应该放在所有的头文件的最前面，包含的顺序应该是从小到大，例如：
```cpp
#include <stdio.h>
#include "test.h"
```
这是因为有些头文件中包含了其他的头文件，如果先包含了大的头文件，那么就会出现重复包含的情况。
#### 4.头文件的编译
头文件不需要单独编译，只需要在需要调用的文件中使用#include "filename.h"即可。
#### 5.头文件的注释
头文件的注释应该包含头文件的作用，头文件的作者，头文件的版本，头文件的修改记录等。
### 头文件的使用原理（c语言编译原理
#### 1.预处理
预处理是在编译之前进行的，预处理的主要工作是将#include包含的文件插入到程序中，将#define定义的宏进行替换，将#if进行判断，将#ifdef进行判断，将#ifndef进行判断，将#endif进行判断，将#elif进行判断，将#undef取消宏定义，将#line进行行号指定，将#error进行错误提示，将#warning进行警告提示，将#pragma进行编译器指令等。
#### 2.编译
编译是将预处理后的文件进行编译，编译的主要工作是将c语言翻译成汇编语言。
#### 3.汇编
汇编是将编译后的文件进行汇编，汇编的主要工作是将汇编语言翻译成机器语言。
#### 4.链接
链接是将汇编后的文件进行链接，链接的主要工作是将多个文件链接成一个可执行文件。
#### 5.执行
执行是将链接后的文件进行执行，执行的主要工作是将可执行文件加载到内存中，然后执行。